# Layouts (макеты)

## Основы

**Django-crispy-forms** определяет еще один мощный класс под названием **Layout**, который позволяет вам изменять способ отображения полей формы. Это позволяет вам устанавливать порядок полей, заключать их в **div** или другие структуры, добавлять **html**, устанавливать идентификаторы **id**, классы **class** или атрибуты на все, что вы хотите, и т. д. И все это без написания собственного шаблона формы, используя программные макеты. Просто прикрепите макет к помощнику **helper.** Макеты необязательны, но, вероятно, это самая мощная вещь, которую может предложить **django-crispy-forms**.

Макет **layout** создается объектами макета, которые можно рассматривать как компоненты формы.

Все эти компоненты объясняются позже в [универсальных объектах макета](layouts-makety.md#obekty-universalnogo-maketa), сейчас вам нужно знать о них то, что каждый компонент отображает другой шаблон и имеет другое назначение. Давайте напишем пару разных макетов для нашей формы, продолжая наш пример с классом формы (обратите внимание, что полная форма больше не показана).

Давайте добавим **layout** в наш помощник:

```python
from crispy_forms.helper import FormHelper
from crispy_forms.layout import Layout, Fieldset, Submit

class ExampleForm(forms.Form):
    [...]
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
        self.helper = FormHelper()
        self.helper.layout = Layout(
            Fieldset(
                'first arg is the legend of the fieldset',
                'like_website',
                'favorite_number',
                'favorite_color',
                'favorite_food',
                'notes'
            ),
            Submit('submit', 'Submit', css_class='button white'),
        )
```

Когда мы визуализируем форму, используя:

```django
{% raw %}
{% load crispy_forms_tags %}
{% crispy example_form %}
{% endraw %}
```

Мы получим поля, обернутые в набор полей, легенда которого будет установлена ​​на `«first arg is the legend of the fieldset»`. Порядок полей (из ранее созданной формы) будет следующим: **like\_website**, **favorite\_number**, **favorite\_color**, **favorite\_food** и **notes**. Мы также получаем кнопку отправки **Submit**, которая будет стилизована под классы Bootstrap `btn btn-primary`.

Это только вершина айсберга: теперь представьте, что вы хотите добавить объяснение того, что такое заметки, вы можете использовать объект макета **HTML**:

```python
Layout(
    Fieldset(
        'Tell us your favorite stuff {{ username }}',
        'like_website',
        'favorite_number',
        'favorite_color',
        'favorite_food',
        HTML("""
            <p>We use notes to get better, <strong>please help us {{ username }}</strong></p>
        """),
        'notes'
    )
)
```

Как вы заметите, легенда набора полей является _**контекстно-зависимой**_, и вы можете написать ее, как если бы она была фрагментом шаблона, в котором будет отображаться форма. Объект **HTML** добавит сообщение перед вводом заметок, а также контекстно-зависимый. Обратите внимание, как вы можете обернуть объекты макета в другие объекты макета. Объекты макета **Fieldset**, **Div**, **MultiField** и **ButtonHolder** могут содержать внутри себя другие объекты макета. Сделаем альтернативный макет для той же формы:

```python
Layout(
    MultiField(
        'Tell us your favorite stuff {{ username }}',
        Div(
            'like_website',
            'favorite_number',
            css_id = 'special-fields'
        ),
        'favorite_color',
        'favorite_food',
        'notes'
    )
)
```

На этот раз мы используем **MultiField**, объект макета, который, как правило, может использоваться в тех же местах, что и **Fieldset**. Основное отличие состоит в том, что при этом все поля отображаются в **div**, а когда при отправке формы есть ошибки, они отображаются в списке, а не по каждому полю, окружающему поле. Иногда лучший способ увидеть, что делают объекты макета, — это просто попробовать их и немного поиграть с ними.

## Атрибуты объектов макета

## Объекты универсального макета

## Объекты Bootstrap Layout

## Переопределение шаблонов объектов макета

## Переопределение шаблонов проектов

## Создание собственных объектов макета

## Составление макетов
