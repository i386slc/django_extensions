# Варианты конфигурации django-parler

## PARLER\_DEFAULT\_LANGUAGE\_CODE

Код языка для резервного (fallback) языка. Этот язык используется, когда не существует перевода для текущего выбранного языка.

По умолчанию это то же самое, что и **LANGUAGE\_CODE**.

Это значение используется в качестве входных данных для `PARLER_LANGUAGES['default']['fallback']`.

## PARLER\_LANGUAGES

Конфигурация языковых значений по умолчанию. Это используется для определения языков в ORM и admin.

```python
PARLER_LANGUAGES = {
    None: (
        {'code': 'en',},
        {'code': 'en-us',},
        {'code': 'it',},
        {'code': 'nl',},
    ),
    'default': {
        # по умолчанию PARLER_DEFAULT_LANGUAGE_CODE
        'fallbacks': ['en'],
        # по умолчанию; пусть .active_translations() также возвращает запасные варианты.
        'hide_untranslated': False,
    }
}
```

Значения в разделе **default** применяются ко всем записям в словаре, заполняя все отсутствующие значения.

Доступны следующие записи:

### code

Код языка для записи.

### fallbacks

Резервные языки для записи

_Изменено в версии 1.5_: В предыдущих версиях это поле называлось **fallback** и указывало на один язык. Старое имя настройки по-прежнему поддерживается, но рекомендуется обновить настройки.

### hide\_untranslated

Должны ли **непереведенные** объекты возвращаться функцией `active_translations()`.

* При значении `True` возвращается только текущий язык, и резервный язык не используется.
* При значении `False` возвращаются объекты, имеющие либо перевод, либо резерв.

Значение по умолчанию — `False`.

### Поддержка нескольких сайтов

При использовании структуры сайтов (`django.contrib.sites`) и параметра **SITE\_ID** словарь может содержать записи для каждого идентификатора сайта. Специальный ключ `None` больше не используется:

```python
PARLER_LANGUAGES = {
    # Глобальный сайт
    1: (
        {'code': 'en',},
        {'code': 'en-us',},
        {'code': 'it',},
        {'code': 'nl',},
    ),
    # US сайт
    2: (
        {'code': 'en-us',},
        {'code': 'en',},
    ),
    # IT сайт
    3: (
        {'code': 'it',},
        {'code': 'en',},
    ),
    # NL сайт
    3: (
        {'code': 'nl',},
        {'code': 'en',},
    ),
    'default': {
        # по умолчанию PARLER_DEFAULT_LANGUAGE_CODE
        'fallbacks': ['en'],
        # по умолчанию; пусть .active_translations() также возвращает запасные варианты.
        'hide_untranslated': False,
    }
}
```

В этом примере каждый вариант языка отображает только 2 вкладки в панели администратора, в то время как на глобальном сайте есть обзор всех языков.

## PARLER\_ENABLE\_CACHING

```python
PARLER_ENABLE_CACHING = True
```

Этот параметр предназначен исключительно для экспертов или для устранения неполадок, когда отключение кэширования может быть полезным.

## PARLER\_CACHE\_PREFIX

```python
PARLER_CACHE_PREFIX = ''
```

Префикс для сайтов, которые используют один и тот же кеш. Например, новости и блог Aldryn.

## PARLER\_SHOW\_EXCLUDED\_LANGUAGE\_TABS

```python
PARLER_SHOW_EXCLUDED_LANGUAGE_TABS = False
```

По умолчанию вкладки администратора ограничены кодами языков, найденными в **LANGUAGES**. Если модели имеют другие переводы, их можно отобразить, установив для этого значения значение `True`.

## PARLER\_DEFAULT\_ACTIVATE

```python
PARLER_DEFAULT_ACTIVATE = True
```

Настройка, позволяющая отображать переведенные тексты на языке по умолчанию даже через `translation.activate()`, пока не вызывается.
